<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Birra AI - Terminal</title>
    <link rel="manifest" href="manifest.json">
    <style>
        :root { --gold: #ffcc00; --bg: #000; --text: #0f0; }
        body { background: var(--bg); color: white; font-family: 'Courier New', monospace; margin: 0; overflow: hidden; display: flex; flex-direction: column; height: 100vh; }
        
        /* Logo e Header */
        .header { text-align: center; padding: 15px; flex-shrink: 0; }
        .logo-container { position: relative; display: inline-block; }
        .logo { width: 70px; height: 70px; border-radius: 50%; border: 2px solid var(--gold); transition: transform 0.3s; }
        .eyes { position: absolute; top: 32px; left: 0; width: 100%; display: flex; justify-content: space-around; opacity: 0; transition: 0.5s; }
        .eye { width: 6px; height: 6px; background: var(--gold); border-radius: 50%; box-shadow: 0 0 12px var(--gold); }
        .bullish .eyes { opacity: 1; }
        .bullish .logo { transform: scale(1.05); border-color: #fff; }

        .price-box { text-align: center; font-size: 2.2rem; font-weight: bold; margin: 5px 0; color: white; }
        .change { font-size: 1rem; color: #00ff00; margin-bottom: 10px; }

        /* Area Grafico */
        #chart-container { flex-grow: 1; width: 100%; background: #111; }

        /* Terminale CLI */
        .terminal { background: rgba(0, 0, 0, 0.9); padding: 10px; height: 100px; overflow-y: auto; font-size: 0.85rem; border-top: 1px solid #222; color: #aaa; }
        .input-line { display: flex; background: #050505; padding: 12px; border-top: 1px solid #333; align-items: center; }
        .input-line span { color: var(--gold); margin-right: 10px; font-weight: bold; }
        input { background: none; border: none; color: var(--text); outline: none; width: 100%; font-family: inherit; font-size: 1rem; }

        /* Bottone Azione */
        .btn-trade { background: var(--gold); color: #000; width: 94%; margin: 10px 3%; padding: 16px; border: none; border-radius: 8px; font-weight: 900; font-size: 1.1rem; text-transform: uppercase; cursor: pointer; flex-shrink: 0; }
    </style>
</head>
<body>

    <div class="header">
        <div class="logo-container" id="cat-logo">
            <img src="logo.png" class="logo" alt="Birra AI">
            <div class="eyes"><div class="eye"></div><div class="eye"></div></div>
        </div>
        <div class="price-box" id="btc-price">$ --.---,--</div>
        <div class="change" id="btc-change">+0.00%</div>
    </div>

    <div id="chart-container">
        </div>

    <div class="terminal" id="output">
        <div>> Birra AI Terminal v1.0 caricato...</div>
        <div>> Sistema pronto. In attesa di ordini...</div>
    </div>

    <div class="input-line">
        <span>$</span><input type="text" id="commandInput" placeholder="Inserisci comando...">
    </div>

    <button class="btn-trade" onclick="execTrade()">‚ö° OPERA ORA</button>

    <audio id="beer-sound" src="https://www.myinstants.com/media/sounds/beer-opening.mp3"></audio>

    <script>
        // Simulazione Prezzo e Animazione Logo
        async function fetchMarketData() {
            try {
                const res = await fetch('https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT');
                const data = await res.json();
                const price = parseFloat(data.lastPrice).toLocaleString('it-IT', { minimumFractionDigits: 2 });
                const change = parseFloat(data.priceChangePercent).toFixed(2);
                
                document.getElementById('btc-price').innerText = `$ ${price}`;
                document.getElementById('btc-change').innerText = `${change > 0 ? '+' : ''}${change}%`;
                
                // Attiva occhi laser se il trend √® positivo
                if (change > 0) {
                    document.getElementById('cat-logo').classList.add('bullish');
                } else {
                    document.getElementById('cat-logo').classList.remove('bullish');
                }
            } catch (e) {
                console.error("Errore aggiornamento dati");
            }
        }
        setInterval(fetchMarketData, 5000);
        fetchMarketData();

        // Logica Terminale CLI
        const input = document.getElementById('commandInput');
        const output = document.getElementById('output');

        input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const cmd = input.value.toLowerCase().trim();
                const newLine = document.createElement('div');
                
                if (cmd === '/info') {
                    newLine.innerText = "> Birra AI: Terminale di trading quantistico ad alta precisione.";
                } else if (cmd.startsWith('/risk ')) {
                    const val = cmd.split(' ')[1];
                    newLine.innerText = `> Rischio impostato: ${val}. Parametri aggiornati.`;
                } else if (cmd === '/clear') {
                    output.innerHTML = '';
                    input.value = '';
                    return;
                } else {
                    newLine.innerText = `> Comando '${cmd}' eseguito correttamente.`;
                }
                
                output.appendChild(newLine);
                input.value = '';
                output.scrollTop = output.scrollHeight;
            }
        });

        // Esecuzione Operazione
        function execTrade() {
            const sound = document.getElementById('beer-sound');
            sound.play();
            
            const log = document.createElement('div');
            log.style.color = '#ffcc00';
            log.innerText = "> [ORDINE]: Operazione avviata. Cheers! üçª";
            output.appendChild(log);
            output.scrollTop = output.scrollHeight;
        }
    </script>
</body>
</html>
